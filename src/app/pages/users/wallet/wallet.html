<app-header role="user" />

<main class="wallet-bg">
  <section class="card">
    <h2 class="title">Wallet Balance</h2>

    <div class="summary">
      <div class="label">ยอดเงินที่มี</div>
      <div class="balance">{{ balance() | number }} ฿</div>
    </div>

    <form [formGroup]="form" class="controls">
      <div class="label">จำนวนเงินที่จะเติม</div>

      <div class="quick">
        <button type="button"
                class="chip"
                *ngFor="let q of quickAmounts"
                (click)="pickQuick(q)">
          {{ q }}
        </button>
      </div>

      <div class="amount-row">
        <input
          type="number"
          min="0"
          placeholder="00.0"
          formControlName="amount"          
          class="amount-input" />
        <button type="button" class="btn-primary" (click)="topup()">เติมเงิน</button>
      </div>
    </form>

    <h3 class="history-title">ประวัติการทำรายการ</h3>

    <div class="table-wrap">
      <table class="tx-table">
        <thead>
          <tr>
            <th>เติมเงิน/ซื้อเกม</th>
            <th>ชื่อ</th>
            <th class="money">จำนวนเงิน</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let t of txns()">
            <td>{{ t.kind }}</td>
            <td>{{ t.name }}</td>
            <td class="money">{{ t.amount | number }} ฿</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</main>
