/* ===== tuning ระยะให้ไม่ติดขอบ ===== */
$gutter-x: clamp(16px, 2.4vw, 28px);     /* ระยะห่างขอบขวา */
$actions-bottom: clamp(14px, 1.8vw, 22px); /* ระยะห่างขอบล่าง (ใช้ร่วมกับการ์ดรูป) */

/* ===== ฉากหลัง ===== */
.edit-bg{
  min-height: 100svh;
  padding: clamp(12px, 2vw, 24px);
  padding-top: clamp(8px, 1.2vw, 14px);
  background: #1a0830 url('../../../../assets/images/bg/รูปพื้นหลัง.png') center/cover fixed no-repeat;
  display: grid; place-items: start center;
}

/* ===== การ์ดใหญ่ (panel) ===== */
.panel{
  position: relative;
  width: min(1200px, 94vw);
  margin-top: clamp(8px, 1.2vw, 18px);
  border-radius: 20px;
  border: 4px solid rgba(140,242,255,.55);
  background: rgba(18,5,34,.86);
  box-shadow: 0 24px 60px rgba(0,0,0,.35), inset 0 0 0 9999px rgba(255,255,255,.015);
  padding: clamp(16px, 3vw, 28px);
  color: #dffbff;
}

/* ===== หัวเรื่อง ===== */
.heading{
  font-size: clamp(22px, 3.2vw, 34px);
  margin: 4px 6px 18px;
  font-weight: 900;
  letter-spacing: .4px;
}

/* ===== เลย์เอาต์สองคอลัมน์ ===== */
.content{
  position: relative;                 /* ให้ .panel-actions อ้างอิงกรอบนี้ */
  display: grid;
  grid-template-columns: 380px 1fr;
  gap: clamp(16px, 3vw, 32px);
  align-items: start;
  padding-bottom: calc(#{$actions-bottom} + 10px);  /* กันปุ่มทับของด้านล่าง */

  @media (max-width: 900px){
    grid-template-columns: 1fr;
    padding-bottom: 0;
  }
}

/* ===== การ์ดพรีวิวรูป ===== */
.avatar-card{
  position: relative;
  cursor: pointer;
  background: #20d2f5;
  border-radius: 16px;
  min-height: 420px;
  display: grid;
  place-items: stretch;
  overflow: hidden;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.08), 0 14px 32px rgba(0,0,0,.25);
  margin: 0 0 $actions-bottom 0;   /* ✅ เว้นล่างเท่ากับระยะปุ่ม เพื่อให้ “ระดับเดียวกัน” */
}
.avatar-card:focus-visible{
  outline: 3px solid #c5f3ff; outline-offset: 2px;
}

/* รูป/ฟอลแบ็ก = เต็มกรอบพอดี */
.avatar-img{
  display: block;
  inline-size: 100%;
  block-size: 100%;
  object-fit: cover;
  border-radius: inherit;
}
.avatar-fallback{
  inline-size: 100%;
  block-size: 100%;
  display: grid; place-items: center;
  background: #2b1b4a;
  color: #e9ffff;
  font-weight: 900;
  font-size: clamp(64px, 11vw, 120px);
  text-shadow: 0 4px 16px rgba(0,0,0,.35);
}

/* โอเวอร์เลย์ “เปลี่ยนรูป” */
.pick-overlay{
  position: absolute; inset: 0;
  z-index: 2;
  pointer-events: none;
  display: grid; place-items: center;
  gap: 6px; font-weight: 900;
  color: #eaffff; text-shadow: 0 2px 8px rgba(0,0,0,.35);
  background: linear-gradient(to bottom, rgba(0,0,0,.06), rgba(0,0,0,.35));
  opacity: 0; transition: opacity .18s ease;
  i{ font-size: 22px; margin-bottom: 2px; }
}
.avatar-card:hover .pick-overlay,
.avatar-card:focus-visible .pick-overlay{ opacity: 1; }

/* อินพุตไฟล์ซ่อน */
.file-input{ display: none; }

/* ===== ฟอร์มฝั่งขวา ===== */
.form{
  display: grid;
  gap: clamp(12px, 1.6vw, 18px);
  align-content: start;
  padding-top: 6px;
}
.field{ display: grid; gap: 6px; }
.label{ font-weight: 800; color: #ccf8ff; letter-spacing: .2px; }
.input{
  border-radius: 12px;
  border: 2px solid rgba(170,150,255,.26);
  background: #1f0537; color: #fff;
  padding: 12px 14px; outline: none;
  transition: border-color .18s ease, box-shadow .18s ease, filter .18s ease;
  &:focus{
    border-color: #bee9ff;
    box-shadow: 0 0 0 3px rgba(190,233,255,.2);
    filter: brightness(1.03);
  }
}
.hint{ opacity: .8; font-size: .85rem; }

/* ===== ปุ่มพื้นฐาน ===== */
.btn{
  border-radius: 12px;
  padding: 12px 16px;
  font-weight: 900;
  cursor: pointer;
  border: 2px solid rgba(170,150,255,.26);
  background: #1f0537; color: #d5feff;
  transition: transform .22s ease, box-shadow .22s ease, filter .22s ease;
  box-shadow: 0 12px 24px rgba(0,0,0,.28), inset 0 0 0 9999px rgba(255,255,255,.02);

  &:hover{ transform: translateY(-2px); filter: brightness(1.06); }
  &:active{ transform: translateY(0); box-shadow: 0 8px 18px rgba(0,0,0,.28), inset 0 14px 34px rgba(0,0,0,.28); }
  &:disabled{ opacity: .7; cursor: not-allowed; transform: none; }
}
.btn.ghost{ background: transparent; border-color: rgba(170,150,255,.22); }
.btn.primary{ background: #c5f3ff; color: #0b1235; border-color: #bee9ff; }

/* ===== ปุ่มล่างขวา (ยึด .content) ===== */
.panel-actions{
  position: absolute;
  right: max(#{$gutter-x}, env(safe-area-inset-right));
  bottom: max(#{$actions-bottom}, env(safe-area-inset-bottom));  /* ✅ ไม่ชิดขอบล่าง */
  display: flex;
  gap: 12px;
  z-index: 3;
}

@media (max-width: 900px){
  .panel-actions{
    position: static;
    justify-self: end;
    margin-top: 12px;
  }
}

/* ===== สถานะ/ข้อความ ===== */
.error{ margin-top: 6px; color: #ffb9b9; }
.state{ padding: 20px 8px; text-align: center; }

/* (ถ้ายังใช้ .actions ที่หน้าอื่น) */
.actions{
  margin-top: 8px;
  display: flex; gap: 12px;
  justify-content: flex-end;
}
