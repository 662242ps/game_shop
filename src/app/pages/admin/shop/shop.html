<app-header role="admin" />

<main class="shop-bg">

  <!-- ✅ แถบหัวข้อ + ค้นหา อยู่นอกการ์ด -->
  <div class="topbar outside">
    <h2 class="title title-3d">เกมทั้งหมด {{ total() }} เกม</h2>

    <div class="search">
      <input
        type="search"
        placeholder="ค้นหา"
        [ngModel]="query()"
        (ngModelChange)="query.set($event)"
        aria-label="ค้นหาเกม" />
      <span class="glass" aria-hidden="true"></span>
    </div>
  </div>

  <section class="panel">
    <div class="grid">
      <!-- ✅ การ์ด "เพิ่มรายการเกม" เป็นลำดับที่ 1 และมีข้อความใต้การ์ด -->
      <a class="add-card" routerLink="/admin/add-game" title="เพิ่มรายการเกมที่ขาย">
        <div class="thumb">
          <span class="plus" aria-hidden="true"></span>
        </div>
        <div class="add-caption">เพิ่มรายการเกมที่ขาย</div>
      </a>

      <!-- รายการเกม -->
      <article class="game-card" *ngFor="let g of filtered()">
        <div class="cover" [style.backgroundImage]="g.cover ? 'url(' + g.cover + ')' : ''"></div>
        <div class="meta">
          <h3 class="name" [title]="g.name">{{ g.name }}</h3>
          <div class="price">{{ g.price | number }} ฿</div>
        </div>
        <div class="actions">
          <button class="act edit"  type="button" title="แก้ไข" (click)="edit(g)"></button>
          <button class="act remove" type="button" title="ลบ"   (click)="remove(g)"></button>
        </div>
      </article>
    </div>
  </section>
</main>
